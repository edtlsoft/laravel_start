(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{JIvn:function(t,e,r){"use strict";r.r(e);var o=r("L2JU");function a(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function n(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?a(Object(r),!0).forEach((function(e){s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var i={computed:n(n({},Object(o.c)({updateMode:"roles/form/getUpdateMode",role:"roles/form/getRole"})),{},{title:function(){return this.updateMode?"ACTUALIZAR ROLE":"REGISTRAR ROLE"},classButton:function(){return this.updateMode?"btn btn-success":"btn btn-primary"},textButton:function(){return this.updateMode?"Actualizar":"Guardar"}}),methods:n({},Object(o.b)({submitRoleForm:"roles/form/submitRoleForm"}))},l=r("KHd+");function c(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,o)}return r}function d(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?c(Object(r),!0).forEach((function(e){u(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function u(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var m={components:{RoleForm:Object(l.a)(i,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"modal fade show",attrs:{id:"modal-role-form","aria-modal":"true",role:"dialog"}},[r("div",{staticClass:"modal-dialog"},[r("div",{staticClass:"modal-content"},[r("div",{staticClass:"modal-header"},[r("h4",{staticClass:"modal-title"},[t._v(t._s(t.title))]),t._v(" "),t._m(0)]),t._v(" "),r("div",{staticClass:"modal-body"},[r("form",{attrs:{id:"role-form"},on:{submit:function(e){return e.preventDefault(),t.submitRoleForm()}}},[r("div",{staticClass:"form-group"},[r("label",[t._v("Nombre")]),t._v(" "),r("input",{directives:[{name:"model",rawName:"v-model",value:t.role.name,expression:"role.name"}],staticClass:"form-control",attrs:{type:"text",placeholder:"modulo_permiso",dusk:"role-name",pattern:"[\\w\\s]{5,}",title:"El nombre debe contener al menos 3 caracteres",required:""},domProps:{value:t.role.name},on:{input:function(e){e.target.composing||t.$set(t.role,"name",e.target.value)}}})]),t._v(" "),r("div",{staticClass:"form-group"},[r("label",[t._v("Descripcion")]),t._v(" "),r("textarea",{directives:[{name:"model",rawName:"v-model",value:t.role.description,expression:"role.description"}],staticClass:"form-control",attrs:{rows:"5",placeholder:"Descripcion...",pattern:"[\\w\\s]{5,}",dusk:"role-description"},domProps:{value:t.role.description},on:{input:function(e){e.target.composing||t.$set(t.role,"description",e.target.value)}}})])])]),t._v(" "),r("div",{staticClass:"modal-footer justify-content-between"},[r("button",{staticClass:"btn btn-default",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Cerrar")]),t._v(" "),r("button",{class:t.classButton,attrs:{type:"submit",form:"role-form",dusk:"btn-manage-role"}},[t._v("\n                    "+t._s(t.textButton)+"\n                ")])])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[this._v("×")])])}],!1,null,null,null).exports},computed:d({},Object(o.c)({roles:"roles/getRoles",datatable:"roles/getDatatable",datatableSettings:"roles/getDatatableSettings"})),methods:d(d(d({},Object(o.d)({setRoles:"roles/setRoles",setDatatable:"roles/setDatatable",setDatatableSettings:"roles/setDatatableSettings",setUpdateMode:"roles/form/setUpdateMode",setPermission:"roles/form/setPermission"})),Object(o.b)({ajaxReloadDatatable:"roles/ajaxReloadDatatable"})),{},{getUpdatedListOfRoles:function(){return this.roles},openRoleForm:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.setUpdateMode(t),e&&this.setPermission(e),this.openModal("div#modal-role-form")},loadDatatableSettings:function(){var t=this;return{ajax:{url:"/roles",dataSrc:function(e){var r=e.data;return t.setRoles(r),r}},columns:[{data:"id"},{data:"id",render:function(t){return'\n                            <div class="w-100 text-center">\n                                <div class="btn-group">\n                                    <button class="btn btn-sm btn-primary btn-roles-update" data-id="'.concat(t,'">\n                                        <i class="fas fa-edit"></i>\n                                    </button>\n                                    <button class="btn btn-sm btn-danger btn-roles-delete" data-id="').concat(t,'">\n                                        <i class="fas fa-trash"></i>\n                                    </button>\n                                </div>\n                            </div>\n                        ')}},{data:"name"},{data:"description"},{data:"created_at",render:function(t){return moment(t).format("YYYY-MM-DD hh:mm:ss A")}}]}},openPermissionUpdateForm:function(t){this.openRoleForm(!0,t)},openSwalWindowDeletePermission:function(t){var e=this;console.log(t),Swal.fire({text:"¿Está realmente seguro de eliminar el permiso ".concat(t.name,"?"),icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Si, eliminarlo!",cancelButtonText:"Cancelar"}).then((function(r){var o=e.setInterceptorAxios("Eliminando el permiso, espere un momento");axios.delete("/roles/".concat(t.id)).then((function(t){e.ajaxReloadDatatable(),Swal.fire({title:"El permiso se elimino correctamente de la base de datos.",icon:"success"})})).catch((function(t){return e.showErrorHttpAxios(t)})),e.ejectInterceptorAxios(o)}))}}),mounted:function(){}},v=Object(l.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"content-wrapper"},[t._m(0),t._v(" "),r("div",{staticClass:"content"},[r("div",{staticClass:"container-fluid"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12"},[r("div",{staticClass:"card card-primary card-outline"},[r("div",{staticClass:"card-header"},[r("div",{staticClass:"d-flex justify-content-between"},[r("h5",{staticClass:"m-0"},[t._v("Listado de Roles")]),t._v(" "),r("div",[r("button",{staticClass:"btn btn-primary",attrs:{dusk:"btn-role-form"},on:{click:function(e){return t.openRoleForm()}}},[r("i",{staticClass:"fa fa-plus"}),t._v(" Role\n                                    ")])])])]),t._v(" "),r("div",{staticClass:"card-body"},[r("table",{staticClass:"table table-bordered table-hover",attrs:{id:"table-roles-list"}},[t._m(1),t._v(" "),r("tbody",t._l(t.roles,(function(e){return r("tr",{key:e.id},[r("td",[t._v(t._s(e.id))]),t._v(" "),r("td"),t._v(" "),r("td",[t._v(t._s(e.name))]),t._v(" "),r("td",[t._v(t._s(e.description))]),t._v(" "),r("td",[t._v(t._s(e.create_at))])])})),0),t._v(" "),t._m(2)])])])])])])]),t._v(" "),r("RoleForm")],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content-header"},[e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row mb-2"},[e("div",{staticClass:"col-sm-6"},[e("h1",{staticClass:"m-0"},[this._v("Roles")])]),this._v(" "),e("div",{staticClass:"col-sm-6"},[e("ol",{staticClass:"breadcrumb float-sm-right"},[e("li",{staticClass:"breadcrumb-item"},[e("a",{attrs:{href:"/authentication"}},[this._v("Autenticacion")])]),this._v(" "),e("li",{staticClass:"breadcrumb-item active"},[this._v("Roles")])])])])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("tr",[r("th",[t._v("Id")]),t._v(" "),r("th",[t._v("Opciones")]),t._v(" "),r("th",[t._v("Nombre")]),t._v(" "),r("th",[t._v("Description")]),t._v(" "),r("th",[t._v("Fecha de creación")])])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tfoot",[r("tr",[r("th",[t._v("Id")]),t._v(" "),r("th",[t._v("Opciones")]),t._v(" "),r("th",[t._v("Nombre")]),t._v(" "),r("th",[t._v("Description")]),t._v(" "),r("th",[t._v("Fecha de creación")])])])}],!1,null,null,null);e.default=v.exports},"KHd+":function(t,e,r){"use strict";function o(t,e,r,o,a,n,s,i){var l,c="function"==typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=r,c._compiled=!0),o&&(c.functional=!0),n&&(c._scopeId="data-v-"+n),s?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},c._ssrRegister=l):a&&(l=i?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var d=c.render;c.render=function(t,e){return l.call(e),d(t,e)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:t,options:c}}r.d(e,"a",(function(){return o}))}}]);